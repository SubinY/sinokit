(window.webpackJsonpSINOKIT=window.webpackJsonpSINOKIT||[]).push([[1],{184:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{type:"flex",align:"middle"}},[a("el-col",{staticClass:"col-item name-item col-item-name",style:e.tagPaddingLeftStyle,attrs:{span:8}},[a("el-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("el-col",{staticClass:"down-style-col",attrs:{span:2}},["object"===e.value.type?a("span",{staticClass:"down-style",on:{click:e.handleClickIcon}},[e.showIcon?a("i",{staticClass:"el-icon-caret-bottom icon-object"}):e._e(),e.showIcon?e._e():a("i",{staticClass:"el-icon-caret-right icon-object"})]):e._e()]),a("el-col",{staticClass:"el-input--small",attrs:{span:20}},[a("input",{staticClass:"el-input el-input__inner",class:{"is-disabled":e.value.disabled},attrs:{size:"small",disabled:e.value.disabled},domProps:{value:e.name},on:{change:e.handleNameChange}})]),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[a("el-tooltip",{attrs:{placement:"top",content:"是否必须"}},[a("el-checkbox",{attrs:{checked:e.data.required&&-1!=e.data.required.indexOf(e.name)||!1},on:{change:e.handleEnableRequire}})],1)],1)],1)],1),a("el-col",{staticClass:"col-item col-item-type",attrs:{span:3}},[a("el-select",{staticClass:"type-select-style",attrs:{size:"small",value:e.value.type,disabled:e.value.disabled&&!e.value.canChangeType},on:{change:e.handleChangeType}},e._l(e.schemaTypes,(function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1),e.isMock?a("el-col",{staticClass:"col-item col-item-mock",attrs:{span:3}},[a("MockSelect",{attrs:{schema:e.value},on:{showEdit:function(t){return e.handleAction({eventType:"mock-edit"})},change:e.handleChangeMock}})],1):e._e(),e.showTitle?a("el-col",{staticClass:"col-item col-item-mock",attrs:{span:e.isMock?4:5}},[a("el-input",{attrs:{disabled:e.value.disabled,size:"small",placeholder:"标题"},model:{value:e.value.title,callback:function(t){e.$set(e.value,"title",t)},expression:"value.title"}},[a("i",{staticClass:"el-icon-edit",attrs:{slot:"append"},on:{click:function(t){return e.handleAction({eventType:"show-edit",field:"title"})}},slot:"append"})])],1):e._e(),!e.showTitle&&e.showDefaultValue?a("el-col",{staticClass:"col-item col-item-mock",attrs:{span:e.isMock?4:5}},[a("el-input",{attrs:{placeholder:"默认值",size:"small",disabled:"object"===e.value.type||"array"===e.value.type||e.value.disabled},model:{value:e.value.default,callback:function(t){e.$set(e.value,"default","string"==typeof t?t.trim():t)},expression:"value.default"}},[a("i",{staticClass:"el-icon-edit",attrs:{slot:"append"},on:{click:function(t){return e.handleAction({eventType:"show-edit",field:"default"})}},slot:"append"})])],1):e._e(),a("el-col",{staticClass:"col-item col-item-desc",attrs:{span:e.isMock?4:5}},[a("el-input",{attrs:{disabled:e.value.disabled,size:"small",placeholder:"备注"},model:{value:e.value.description,callback:function(t){e.$set(e.value,"description",t)},expression:"value.description"}},[a("i",{staticClass:"el-icon-edit",attrs:{slot:"append"},on:{click:function(t){return e.handleAction({eventType:"show-edit",field:"description"})}},slot:"append"})])],1),a("el-col",{staticClass:"col-item col-item-setting",attrs:{span:e.isMock?2:3}},[a("span",{staticClass:"adv-set",on:{click:function(t){return e.handleAction({eventType:"setting",schemaType:e.value.type})}}},[a("el-tooltip",{attrs:{placement:"top",content:"高级设置"}},[a("i",{staticClass:"el-icon-setting"})])],1),a("span",{staticClass:"delete-item",class:{hidden:e.value.disabled},on:{click:function(t){return e.handleAction({eventType:"delete-field"})}}},[a("i",{staticClass:"el-icon-close close"})]),"object"===e.value.type?a("DropPlus",{attrs:{prefix:e.prefix,name:e.name},on:{"add-field":e.handleAction}}):e._e(),"object"!==e.value.type?a("span",{on:{click:function(t){return e.handleAction({eventType:"add-field",isChild:!1})}}},[a("el-tooltip",{attrs:{placement:"top",content:"添加兄弟节点"}},[a("i",{staticClass:"el-icon-plus plus"})])],1):e._e()],1)],1),a("div",{staticClass:"option-formStyle"},["array"===e.value.type?[a("schema-array",{attrs:{prefix:e.prefixArray,data:e.value,"is-mock":e.isMock,"show-title":e.showTitle,"show-default-value":e.showDefaultValue,"editor-id":e.editorId}})]:e._e(),"object"===e.value.type&&e.showIcon?[a("schema-object",{attrs:{prefix:e.nameArray,data:e.value,"is-mock":e.isMock,"show-title":e.showTitle,"show-default-value":e.showDefaultValue,"editor-id":e.editorId}})]:e._e()],2)],1)};l._withStripped=!0;var i=a(70),s=a.n(i),n=a(27),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{attrs:{placement:"top",content:"添加兄弟/子节点"}},[a("el-dropdown",{attrs:{trigger:"click"}},[a("i",{staticClass:"el-icon-plus plus"}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("span",{on:{click:function(t){return e.addFieldAction({type:"add-field",isChild:!1})}}},[e._v("兄弟节点")])]),a("el-dropdown-item",[a("span",{on:{click:function(t){return e.addFieldAction({type:"add-field",isChild:!0})}}},[e._v("子节点")])])],1)],1)],1)};o._withStripped=!0;var c={name:"DropPlus",components:{},props:{prefix:{type:Array,default:()=>[]},name:{type:String,default:""}},data:()=>({}),created(){},mounted(){},methods:{addFieldAction(...e){this.$emit("add-field",...e)}}},d=a(1),r=Object(d.a)(c,o,[],!1,null,"6c12d169",null);r.options.__file="lib/json-schema-editor/src/Schema/DropPlus.vue";var p=r.exports,u=a(28),h=a(72),m=a(0),f={name:"SchemaItem",components:{MockSelect:n.a,DropPlus:p,"schema-array":h.a,"schema-object":u.a},props:{isMock:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!1},showDefaultValue:{type:Boolean,default:!1},editorId:{type:String,default:"editor_id"},name:{type:String,default:""},prefix:{type:Array,default:()=>[]},data:{type:Object,default:()=>{}}},data(){return{showIcon:!0,tagPaddingLeftStyle:{},schemaTypes:m.b,value:this.data.properties[this.name]}},computed:{nameArray(){const e=[].concat(this.prefix,this.name);return[].concat(e,"properties")},prefixArray(){return[].concat(this.prefix,this.name)}},beforeMount(){const e=this.prefix.filter(e=>"properties"!==e).length;this.tagPaddingLeftStyle={paddingLeft:20*(e+1)+"px"}},methods:{isUndefined:()=>s.a,handleClickIcon(){this.showIcon=!this.showIcon},handleAction(e){const{prefix:t,name:a}=this;this.$event.emit("schema-update-"+this.editorId,{eventType:"add-field",prefix:t,name:a,...e})},handleNameChange(e){this.handleAction({eventType:"update-field-name",value:e.target.value})},handleEnableRequire(e){const{prefix:t,name:a}=this;this.$event.emit("schema-update-"+this.editorId,{eventType:"toggle-required",prefix:t,name:a,required:e})},handleChangeMock(){},handleChangeType(e){this.handleAction({eventType:"schema-type",value:e})}}},v=Object(d.a)(f,l,[],!1,null,null,null);v.options.__file="lib/json-schema-editor/src/Schema/SchemaItem.vue";t.default=v.exports}}]);